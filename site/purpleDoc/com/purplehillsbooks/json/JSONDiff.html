<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Sat Dec 26 06:47:23 PST 2020 -->
<title>JSONDiff</title>
<meta name="date" content="2020-12-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JSONDiff";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/purplehillsbooks/json/JSONDelta.html" title="class in com.purplehillsbooks.json"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/purplehillsbooks/json/JSONException.html" title="class in com.purplehillsbooks.json"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/purplehillsbooks/json/JSONDiff.html" target="_top">Frames</a></li>
<li><a href="JSONDiff.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.purplehillsbooks.json</div>
<h2 title="Class JSONDiff" class="title">Class JSONDiff</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.purplehillsbooks.json.JSONDiff</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">JSONDiff</span>
extends java.lang.Object</pre>
<div class="block"><p>The purpose of this class is to produce a "DIFF" comparison of two JSON
 files.   This is useful for JSON files which are holding internationalized
 string values.  Two JSON objects are compared.  The keys must be unique;
 there must not be two members of an object with the same key.
 The value from one object is compared
 to the value of the same key from the other.</p>

 <p>Nested objects use paths which combine the keys together with dots between them.
 in the example below, "menu.open" and "menu.close" are path-style keys.
 These keys again must be unique.</p>

 <p> If there is an array, then the elements in the
 array will be compared in exactly the order they are found, but this might or might
 not be useful.  No attempt is made to find a canonical order for the array elements.
 The path is constructed using the index in square bracket (e.g. [0], [1], etc.)
 so that the path is once again unique to specify that value.</p>

 <p>The output is a three column CSV file.   The first column is the full path key,
 the second is the value from the first json object,
 the third column is the corresponding value from the second json object:</p>

 <h3>JSON File 1:</h3>

 <pre>
 {
     "title": "title",
     "pgNumTot": "number of pages",
     "print": "print",
     "menu": {
         "open": "Open",
         "close": "Close"
     }
     "missing": "missing"
 }
 </pre>

 <h3>JSON File 2:</h3>

 <pre>
 {
     "title": "titre",
     "pgNumTot": "nombre de pages",
     "print": "imprimer"
     "menu": {
         "open": "Ouvre",
         "close": {"soft":"doux","hard":"fort"}
     },
     "z-extra": "superfluous"
 }
 </pre>

 <p>The output would then be:</p>

 <pre>
 "menu.close", "Close",   "~object~"
 "menu.open",  "Open",    "Ouvre"
 "missing",    "missing", "~null~"
 "pgNumTot",   "number of pages", "nombre de pages"
 "print",      "print",   "imprimer"
 "title",      "title",   "titre"
 "z-extra",    "~null~",  "superfluous"
 </pre>

 <p>Note that the keys are in (canonical) ASCII alphabetical order so that the
 result can always be compared effectively with earlier results.  The JSON files
 need not have keys in alphabetical order, but keeping them that way will make
 regular text-oriented difference comparisons more useful.</p>

 <p>Note that the first file takes precident in defining the structure to compare.
 That is, all elements in the first file will be considered and iterated as
 sub-objects even if the second file has those elements missing or different.  If the key
 points to an object in the first file and a non-object in the second file,
 then the value will be considered to be an object and sub-elements will be
 followed.   However a non-object in the first and an object in the second
 will be treated like a simple value and show "~object~" as the value.
 The second object is subservient to this:  extra keys in the second object
 will be ignored in some cases.  If the key points to a string value in the
 first object, but an object value in the second object, then only the string
 value will be considered. </p>

 <h1>All or Only Changed</h1>

 <p>There is a boolean parameter on the constructor to say whether to include all
 the lines, or just the lines that are different.  reportAll=true means that
 all keys found will be reported, even if the two input files have the same
 value for that key.   reportAll=false will output ONLY the keys that the
 two files have different values for.</p>

 <h1>Augmented Output</h1>

 <p>The first JSON object is considered the superior, and the second parameter
 is the inferior with potential missing keys.  To simlify the adding of keys
 JSONDiff will extend the second object with values from the first.</p>

 <p>a key that maps to an object will create a new object in the second</p>

 <p>a key that maps to a string will create a new string in the second.
 The value will be tagged with "(*)" to identify it as a value that was
 automatically take from the other. For example, if the first object has:</p>

    <pre>"key111": "This is a Value"</pre>

 <p>then JSONDiff will create the following value in the second object:</p>

    <pre>"key111": "(*)This is a Value"</pre>


 <h1>Command Line Arguments</h1>

 <p>This class has a main routine so that it can be called as a command-line command
 where you pass the names of JSON files.  The files are read, and the result is
 written out as a file.</p>

 <pre>JSONDiff {First-File.json}  {Second-File.json} [-a]</pre>

 <p>First parameter and second parameter are the two files to read as JSON files and
 to compare.  If either file is not a valid JSON syntax you will get an error.
 There is a third, optional parameter (-a) which controls the reportAll setting.
 if this is present, then all keys will be reported whether the values match or not.
 If this is not present, then only the keys that have differing values are included.</p>

 <p>The output will be written to second file name with "diff.csv" on the end.
 In the example above, the file would be written to <tt>Second-File.jsondiff.csv</tt></p>

 <p>The augmented object output will be written to second file name with ".augment.json" on the end.
 In the example above, the file would be written to <tt>Second-File.json.augment.json</tt></p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/json/JSONDiff.html#JSONDiff-boolean-">JSONDiff</a></span>(boolean&nbsp;reportAll)</code>
<div class="block">The boolean parameter on the constructor defines whether to include all
 the lines, or just the lines that are different.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.util.List&lt;java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/json/JSONDiff.html#createDiff-com.purplehillsbooks.json.JSONObject-com.purplehillsbooks.json.JSONObject-">createDiff</a></span>(<a href="../../../com/purplehillsbooks/json/JSONObject.html" title="class in com.purplehillsbooks.json">JSONObject</a>&nbsp;ob1,
          <a href="../../../com/purplehillsbooks/json/JSONObject.html" title="class in com.purplehillsbooks.json">JSONObject</a>&nbsp;ob2)</code>
<div class="block">Creates a table that represents the difference of the two JSON objects
 passed in.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/json/JSONDiff.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">The main routine can be called as a command-line command
 where you pass the names of JSON files.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JSONDiff-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JSONDiff</h4>
<pre>public&nbsp;JSONDiff(boolean&nbsp;reportAll)</pre>
<div class="block"><p>The boolean parameter on the constructor defines whether to include all
 the lines, or just the lines that are different.  reportAll=true means that
 all keys found will be reported, even if the two input files have the same
 value for that key.   reportAll=false will output ONLY the keys that the
 two files have different values for.</p></div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createDiff-com.purplehillsbooks.json.JSONObject-com.purplehillsbooks.json.JSONObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDiff</h4>
<pre>public&nbsp;java.util.List&lt;java.util.List&lt;java.lang.String&gt;&gt;&nbsp;createDiff(<a href="../../../com/purplehillsbooks/json/JSONObject.html" title="class in com.purplehillsbooks.json">JSONObject</a>&nbsp;ob1,
                                                                   <a href="../../../com/purplehillsbooks/json/JSONObject.html" title="class in com.purplehillsbooks.json">JSONObject</a>&nbsp;ob2)
                                                            throws java.lang.Exception</pre>
<div class="block"><p>Creates a table that represents the difference of the two JSON objects
 passed in. The table is a list of rows, and each row is a triplet of Strings
 representing the column values for that row.></p>

 <p>The first column is the full path key,
 the second is the value from the first json object,
 the third column is the corresponding value from the second json object</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block"><p>The main routine can be called as a command-line command
 where you pass the names of JSON files.  The files are read, and the result is
 written out as a CSV file.</p>

 <pre>JSONDiff {First-File.json}  {Second-File.json} [-a]</pre>

 <p>First parameter and second parameter are the two files to read as JSON files and
 to compare.  If either file is not a valid JSON syntax you will get an error.
 There is a third, optional parameter (-a) which controls the reportAll setting.
 if this is present, then all keys will be reported whether the values match or not.
 If this is not present, then only the keys that have differing values are included.</p>

 <p>The output will be written to second file name with "diff.csv" on the end.
 In the example above, the file would be written to <tt>Second-File.jsondiff.csv</tt></p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/purplehillsbooks/json/JSONDelta.html" title="class in com.purplehillsbooks.json"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/purplehillsbooks/json/JSONException.html" title="class in com.purplehillsbooks.json"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/purplehillsbooks/json/JSONDiff.html" target="_top">Frames</a></li>
<li><a href="JSONDiff.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
