<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Sat Dec 26 06:47:22 PST 2020 -->
<title>TemplateStreamer</title>
<meta name="date" content="2020-12-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TemplateStreamer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/purplehillsbooks/temps/TemplateJSONRetriever.html" title="class in com.purplehillsbooks.temps"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/purplehillsbooks/temps/TemplateTokenRetriever.html" title="interface in com.purplehillsbooks.temps"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/purplehillsbooks/temps/TemplateStreamer.html" target="_top">Frames</a></li>
<li><a href="TemplateStreamer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.purplehillsbooks.temps</div>
<h2 title="Class TemplateStreamer" class="title">Class TemplateStreamer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.purplehillsbooks.temps.TemplateStreamer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TemplateStreamer</span>
extends java.lang.Object</pre>
<div class="block"><p>
 Streams a template file to a Writer object while searching for tokens,
 and streaming token values in place of those token.  The best way to
 explain this is by example. Consider the following template:
 </p>
 <pre>
 &lt;html&gt;
 &lt;body&gt;
 Dear {{customer name}},
 Your account has a balance of {{account balance}}.
 Sincerely,
 The Bank
 &lt;/body&gt;
 &lt;/html&gt;
 </pre>

 <p>
 In this example, there are two tokens.  The tokens start with "{{" and
 and with "}}" and everything between these is called the token name.
 The names of the tokens in this example are
 "customer name" and "account balance".  The TemplateStreamer will stream
 out everything in the template, but inplace of the tokens, it will instead
 stream the appropriate associated values.
 A supplied TemplateTokenRetriever object locates and streams the associated values.
</p>
 <p>
 The TemplateStreamer class does not know what values need to be substituted
 for the tokens. When the TemplateStreamer instance is constructed, the host
 program must supply a TemplateTokenRetriever object that will provide values
 for each of the tokens.  The TemplateStreamer will parse the template, and will
 stream all the non-token parts, but it will call the TemplateTokenRetriever
 for each of the tokens that it find, passing the name of the token to be output.
 The TemplateTokenRetriever then looks up and finds the value using whatever
 means necessary, and streams the value to the Writer, and returns.
 </p>
 <p>
 We have called this "QuickForms" in the past. It is a lightweight mechanism
 that allows you to create user interface screens in HTML, and then substitute
 values into those screens as the screen is being served. Much lighter weight
 than JSP file, there is no compiler needed.  Templates are parsed and streamed
 in a single action, which allows template files to be changed at any time, and
 there is no need to re-compile the templates.  The parsing and streaming is
 very efficient and fast, incurring only an inperceptibly small overhead over
 simply streaming the file directly without parsing.  The token values are
 streamed directly to the output, which eliminates any extra manipulation
 of string values normaly found in approaches that concatenate strings
 before producing output.
 </p><p>
 The file on disk is called a "template" It is a text file of any type,
 usually HTML. There are tokens that start with two curley braces "{{" and end
 with two curley braces "}}".

 </p><p>
 A single brace alone will be ignored. Everything that is not between the
 curley brace delimiter will be streamed out without change. When a token has
 been found, the content (that is the text between the braces) will be passed
 to the calling object in a "callback" method. The result of the callback is
 the value to place into the template (if any).

 </p><p>
 As a template design, you decide what token values are valuable for your
 situation, the TemplateStreamer does not care what the tokens are. The string
 value between the double curley braces (a.k.a. the token name) is passed unchanged
 to the TemplateTokenRetriever.  The token name might have multiple parameters
 or even an expression of any syntax.  The only restriction that exists on the
 token name is that it must not contain "}}" (the ending double curley brace.)

 </p><p>
 All the methods are static.  There is no need to create an instance of this class.

 </p><p>
 How does this compare to JSP? Well, there are no looping constructs or
 branching constructs. It is really designed for flat files that simply need
 some run-time values placed into them.  This is greate for simple web pages,
 and particularly for email templates -- basically anytime you have something
 that looks like HTML, but just has a few values substituted in.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/temps/TemplateStreamer.html#TemplateStreamer--">TemplateStreamer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/temps/TemplateStreamer.html#streamRawFile-java.io.OutputStream-java.io.File-">streamRawFile</a></span>(java.io.OutputStream&nbsp;out,
             java.io.File&nbsp;resourceFile)</code>
<div class="block">streamRawFile simply reads the File passed in, and streams it to output
 byte for byte, WITHOUT any modification.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/temps/TemplateStreamer.html#streamTemplate-java.io.Writer-java.io.File-java.lang.String-com.purplehillsbooks.temps.TemplateTokenRetriever-">streamTemplate</a></span>(java.io.Writer&nbsp;out,
              java.io.File&nbsp;file,
              java.lang.String&nbsp;charset,
              <a href="../../../com/purplehillsbooks/temps/TemplateTokenRetriever.html" title="interface in com.purplehillsbooks.temps">TemplateTokenRetriever</a>&nbsp;ttr)</code>
<div class="block">This is the main method used to stream a template file, reading from the file,
 writing to the supplied Writer, and substituting values for the tokens.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/temps/TemplateStreamer.html#streamTemplate-java.io.Writer-java.io.Reader-com.purplehillsbooks.temps.TemplateTokenRetriever-">streamTemplate</a></span>(java.io.Writer&nbsp;out,
              java.io.Reader&nbsp;template,
              <a href="../../../com/purplehillsbooks/temps/TemplateTokenRetriever.html" title="interface in com.purplehillsbooks.temps">TemplateTokenRetriever</a>&nbsp;ttr)</code>
<div class="block">This is the stream-in/stream-out version of the TemplateStreamer.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/temps/TemplateStreamer.html#writeHtml-java.io.Writer-java.lang.String-">writeHtml</a></span>(java.io.Writer&nbsp;w,
         java.lang.String&nbsp;t)</code>
<div class="block">A convenience routine to properly encode values for use in HTML.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TemplateStreamer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TemplateStreamer</h4>
<pre>public&nbsp;TemplateStreamer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="streamRawFile-java.io.OutputStream-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>streamRawFile</h4>
<pre>public static&nbsp;void&nbsp;streamRawFile(java.io.OutputStream&nbsp;out,
                                 java.io.File&nbsp;resourceFile)
                          throws java.lang.Exception</pre>
<div class="block">streamRawFile simply reads the File passed in, and streams it to output
 byte for byte, WITHOUT any modification. This is a convenience function.
 Exception if the file passed in does not exist. Exception if the file has
 zero bytes length on assumption this must be a mistake.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="writeHtml-java.io.Writer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHtml</h4>
<pre>public static&nbsp;void&nbsp;writeHtml(java.io.Writer&nbsp;w,
                             java.lang.String&nbsp;t)
                      throws java.lang.Exception</pre>
<div class="block">A convenience routine to properly encode values for use in HTML.
 Does the proper encoding for a value to be placed in an HTML file,
 and have it display exactly as the string is in Java.
 Always HTML encode all user-entered data, even if you think it should
 not need it, because this will prevent hackers from injecting scripts
 into the streamed output.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="streamTemplate-java.io.Writer-java.io.File-java.lang.String-com.purplehillsbooks.temps.TemplateTokenRetriever-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>streamTemplate</h4>
<pre>public static&nbsp;void&nbsp;streamTemplate(java.io.Writer&nbsp;out,
                                  java.io.File&nbsp;file,
                                  java.lang.String&nbsp;charset,
                                  <a href="../../../com/purplehillsbooks/temps/TemplateTokenRetriever.html" title="interface in com.purplehillsbooks.temps">TemplateTokenRetriever</a>&nbsp;ttr)
                           throws java.lang.Exception</pre>
<div class="block">This is the main method used to stream a template file, reading from the file,
 writing to the supplied Writer, and substituting values for the tokens.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - the writer that the template will be streamed to</dd>
<dd><code>file</code> - the abstract file path that locates the file to read</dd>
<dd><code>charset</code> - the character encoding of the template file to be read</dd>
<dd><code>ttr</code> - the TemplateTokenRetriever that understands how to find values
        for each of the possible token names in the file, and can stream
        that value to the Writer object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>an</code> - exception will be thrown if anything does not perform
        correctly: for example if the file is not found, or can not be
        opened, or can not be read, or the output Writer can not be written
        to, or the system runs out of memory, or if the template has a
        syntax error such as a missing end of token double brace.  The exception
        will explain the problem that occurred.  The host program should take
        care to properly log or otherwise communicate this problem to the
        appropriate channel, because the TemplateStreamer does not keep
        any log.</dd>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="streamTemplate-java.io.Writer-java.io.Reader-com.purplehillsbooks.temps.TemplateTokenRetriever-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>streamTemplate</h4>
<pre>public static&nbsp;void&nbsp;streamTemplate(java.io.Writer&nbsp;out,
                                  java.io.Reader&nbsp;template,
                                  <a href="../../../com/purplehillsbooks/temps/TemplateTokenRetriever.html" title="interface in com.purplehillsbooks.temps">TemplateTokenRetriever</a>&nbsp;ttr)
                           throws java.lang.Exception</pre>
<div class="block">This is the stream-in/stream-out version of the TemplateStreamer.
 Reads text from the Reader, and output it to the Writer while
 searching for and substituting tokens.  Use this form when the
 template is not stored as a simple file on the disk.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/purplehillsbooks/temps/TemplateJSONRetriever.html" title="class in com.purplehillsbooks.temps"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/purplehillsbooks/temps/TemplateTokenRetriever.html" title="interface in com.purplehillsbooks.temps"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/purplehillsbooks/temps/TemplateStreamer.html" target="_top">Frames</a></li>
<li><a href="TemplateStreamer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
