<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Sat Dec 26 06:47:22 PST 2020 -->
<title>SSLPatch</title>
<meta name="date" content="2020-12-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SSLPatch";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/purplehillsbooks/streams/ReaderUTF8InputStream.html" title="class in com.purplehillsbooks.streams"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/purplehillsbooks/streams/StreamHelper.html" title="class in com.purplehillsbooks.streams"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/purplehillsbooks/streams/SSLPatch.html" target="_top">Frames</a></li>
<li><a href="SSLPatch.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.purplehillsbooks.streams</div>
<h2 title="Class SSLPatch" class="title">Class SSLPatch</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.purplehillsbooks.streams.SSLPatch</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SSLPatch</span>
extends java.lang.Object</pre>
<div class="block">It seems that the Java libraries for reading SSL connection have conflated
 two different things: the ability to have an encrypted line, and the ability
 to confirm who you are connecting to. Both are important, but the
 implementation is that you can only have both. Any connection, instead of
 giving you a simple option to check if the certificate on the other end is
 valid, throws an exception preventing you from reading anything at all.

 Here is why this is so ridiculous. If you use HTTP and connect to a server,
 you have no guarantee that the server is who it says it is, yet you can read
 the bytes. If you would like to read those bytes in privacy, you would like
 to use an SSL connection. It does not matter what key is used, just so long
 as the line is encrypted then others will not be able to listen in. In
 general it would be good to ensure that others can not listen in, especially
 when you are passing passwords over the line.

 Yet, the default implementation is that the encrypted line is denied you if
 you can't prove who the server is. But in the unincrypted case you didn't
 know who the server was either. Regardless of whether you know what the real
 identity of the server is that you are talking to, you are safer if the line
 is encrypted.

 Here is the issue: anyone can generate a key and provide a secure line. It
 should be a standard feature of all web servers. Basically, all web
 interactions should be over SSL. But getting a certificate costs money,
 because you have to have the infrastructure to verify if the certificate is
 valid. While SSL might be free, a certificate will always cost money.

 By forcing you to either have both privacy and certificate at the same time,
 effectively denies SSL privacy to those who do not have certificates!!
 Certificates can only be gotten for well named servers, which are generally
 in fixed location, and to known companies. But what about laptops? Getting a
 certificate for a portable machine is not reasonable. Getting a certificate
 for a virtual machine for testing is not reasonable. Yet, there are many
 temporary virtual machines and laptops that run servers. But this is a
 decision that causes a client to fail when talking to these servers.

 Clearly the validation of a certificate is "information content" of the
 connect. It is a status flag that should be checkable. If the application
 requires knowing that the certificate is valid, then it should have a way to
 check it. But simply failing to connect is unnecessarily harsh. It assumes
 too much about the needs of the client.

 So this class is implemented to disable the certificate validation checking.
 This, too, goes too far in the other way, this will consider all certificates
 valid whether they are or not. It would be far better to determine whether
 the certificate is valid,and then allow the client to check, but I don't know
 how to do this. This fix will allow Java clients to read data from HTTPS
 servers which do not have certificates.

 Calling SSLPatch.disableSSLException will disable such validation in the
 current VM until that VM is restarted.

 Keith D Swenson, October 12, 2011</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/streams/SSLPatch.html#SSLPatch--">SSLPatch</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static javax.net.ssl.SSLContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/streams/SSLPatch.html#disableSSLCertValidation--">disableSSLCertValidation</a></span>()</code>
<div class="block">a call to disableSSLCertValidation will disable certificate validation
 for SSL connection made after this call.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static javax.net.ssl.HostnameVerifier</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/streams/SSLPatch.html#getAllHostVerifier--">getAllHostVerifier</a></span>()</code>
<div class="block">Returns a hostname verifiers that always returns true, always positively
 verifies a host.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static javax.net.ssl.X509TrustManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/purplehillsbooks/streams/SSLPatch.html#getDummyTrustManager--">getDummyTrustManager</a></span>()</code>
<div class="block">Java proides a standard "trust manager" interface.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SSLPatch--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SSLPatch</h4>
<pre>public&nbsp;SSLPatch()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDummyTrustManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDummyTrustManager</h4>
<pre>public static&nbsp;javax.net.ssl.X509TrustManager&nbsp;getDummyTrustManager()</pre>
<div class="block">Java proides a standard "trust manager" interface. This trust manager
 essentially disables the rejection of certificates by trusting anyone and
 everyone.</div>
</li>
</ul>
<a name="getAllHostVerifier--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllHostVerifier</h4>
<pre>public static&nbsp;javax.net.ssl.HostnameVerifier&nbsp;getAllHostVerifier()</pre>
<div class="block">Returns a hostname verifiers that always returns true, always positively
 verifies a host.</div>
</li>
</ul>
<a name="disableSSLCertValidation--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>disableSSLCertValidation</h4>
<pre>public static&nbsp;javax.net.ssl.SSLContext&nbsp;disableSSLCertValidation()
                                                         throws java.lang.Exception</pre>
<div class="block">a call to disableSSLCertValidation will disable certificate validation
 for SSL connection made after this call. This is installed as the default
 in the JVM for future calls.

 Returns the properly initialized SSLContext in case it is needed for
 something else (like Apache HttpClient libraries) but if you don't need
 it you can ignore it.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/purplehillsbooks/streams/ReaderUTF8InputStream.html" title="class in com.purplehillsbooks.streams"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/purplehillsbooks/streams/StreamHelper.html" title="class in com.purplehillsbooks.streams"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/purplehillsbooks/streams/SSLPatch.html" target="_top">Frames</a></li>
<li><a href="SSLPatch.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
